# Primary/Backup Replication 主/被复制

## 前置阅读之虚拟机容错

## Fault tolerance　容错

需要应对的问题：

- 失败导致的停止
- 独立错误
- 网络部分或全部丢包
- 网络分区

行为：

- 可用
- 等待
- 永久停止
- 故障（比如，软件ｂｕｇ，硬件异常）

核心思想：replication（复制）

- 两台服务器（或者更多）
- 每个副本都需要为服务保留状态
- 如果其中一个副本倒下，其他的副本能够继续工作

例子：

重大问题：

需要复制的是哪个状态？
备份时主节点是否要等待？

两个主要方法：

- 状态传输
- 复制状态机

